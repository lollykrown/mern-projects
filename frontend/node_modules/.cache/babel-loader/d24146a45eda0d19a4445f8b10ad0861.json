{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/sayconfirmproductionsltd/Documents/GitHub/mern-projects/frontend/src/pages/Profile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Link, useParams } from \"react-router-dom\";\nimport PostPreview from \"../components/PostPreview\";\nimport ProfileHeader from \"../components/ProfileHeader\";\nimport Placeholder from \"../components/Placeholder\";\nimport Loader from \"../components/Loader\";\nimport { PostIcon, SavedIcon } from \"../components/Icons\";\nimport Button from \"../styles/Button\";\nimport PlaceholderContainer from \"../styles/PlaceholderContainer\";\nimport axios from 'axios';\nimport Axios from '../utils/axios';\nconst Wrapper = styled.div`\n  .profile-tab {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin: 1.4rem 0;\n  }\n.uppercase{\n  text-transform: uppercase;\n}\n  .profile-tab div {\n    display: flex;\n    cursor: pointer;\n    margin-right: 3rem;\n  }\n\n  .profile-tab span {\n    padding-left: 0.3rem;\n  }\n\n  .profile-tab svg {\n    height: 24px;\n    width: 24px;\n  }\n\n  hr {\n    border: 0.5px solid ${props => props.theme.borderColor};\n  }\n`;\n_c = Wrapper;\n\nconst Profile = () => {\n  _s();\n\n  var _profile$posts, _profile$savedPosts;\n\n  const [tab, setTab] = useState(\"POSTS\");\n  const {\n    username\n  } = useParams();\n  const [profile, setProfile] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [deadend, setDeadend] = useState(false);\n  const CancelToken = axios.CancelToken;\n  const source = CancelToken.source();\n  useEffect(() => {\n    const getUser = async () => {\n      try {\n        const res = await Axios.get(`/users/${username}`, {\n          cancelToken: source.token\n        });\n\n        if (res.data.status) {\n          setLoading(false);\n          setDeadend(false);\n          setProfile(res.data.data);\n        }\n      } catch (error) {\n        if (axios.isCancel(error)) {\n          console.log('Request canceled', error.message);\n        } else {\n          setDeadend(true);\n          throw error;\n        }\n      }\n    };\n\n    getUser();\n    return () => {\n      source.cancel('Operation canceled by the user.');\n    };\n  }, [username]);\n\n  if (!deadend && loading) {\n    return /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 12\n    }, this);\n  }\n\n  if (deadend) {\n    return /*#__PURE__*/_jsxDEV(PlaceholderContainer, {\n      children: [/*#__PURE__*/_jsxDEV(Placeholder, {\n        title: \"Sorry, this page isn't available\",\n        text: \"The link you followed may be broken, or the page may have been removed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          children: \"Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 22\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: [/*#__PURE__*/_jsxDEV(ProfileHeader, {\n      profile: profile\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-tab\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: tab === \"POSTS\" ? \"500\" : \"\"\n        },\n        onClick: () => setTab(\"POSTS\"),\n        children: [/*#__PURE__*/_jsxDEV(PostIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"uppercase\",\n          children: \"Posts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: tab === \"SAVED\" ? \"500\" : \"\"\n        },\n        onClick: () => setTab(\"SAVED\"),\n        children: [/*#__PURE__*/_jsxDEV(SavedIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"uppercase\",\n          children: \"Saved\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), tab === \"POSTS\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: (profile === null || profile === void 0 ? void 0 : (_profile$posts = profile.posts) === null || _profile$posts === void 0 ? void 0 : _profile$posts.length) === 0 ? /*#__PURE__*/_jsxDEV(Placeholder, {\n        title: \"Posts\",\n        text: \"Once you start making new posts, they'll appear here\",\n        icon: \"post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(PostPreview, {\n        posts: profile === null || profile === void 0 ? void 0 : profile.posts\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 15\n      }, this)\n    }, void 0, false), tab === \"SAVED\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: (profile === null || profile === void 0 ? void 0 : (_profile$savedPosts = profile.savedPosts) === null || _profile$savedPosts === void 0 ? void 0 : _profile$savedPosts.length) === 0 ? /*#__PURE__*/_jsxDEV(Placeholder, {\n        title: \"Saved\",\n        text: \"Save photos and videos that you want to see again\",\n        icon: \"bookmark\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(PostPreview, {\n        posts: profile === null || profile === void 0 ? void 0 : profile.savedPosts\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 15\n      }, this)\n    }, void 0, false)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Profile, \"onxcuDglPj4Wux7Ox5mN8vZa3WY=\", false, function () {\n  return [useParams];\n});\n\n_c2 = Profile;\nexport default Profile;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Wrapper\");\n$RefreshReg$(_c2, \"Profile\");","map":{"version":3,"sources":["/Users/sayconfirmproductionsltd/Documents/GitHub/mern-projects/frontend/src/pages/Profile.js"],"names":["React","useEffect","useState","styled","Link","useParams","PostPreview","ProfileHeader","Placeholder","Loader","PostIcon","SavedIcon","Button","PlaceholderContainer","axios","Axios","Wrapper","div","props","theme","borderColor","Profile","tab","setTab","username","profile","setProfile","loading","setLoading","deadend","setDeadend","CancelToken","source","getUser","res","get","cancelToken","token","data","status","error","isCancel","console","log","message","cancel","fontWeight","posts","length","savedPosts"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Link, useParams } from \"react-router-dom\";\nimport PostPreview from \"../components/PostPreview\";\nimport ProfileHeader from \"../components/ProfileHeader\";\nimport Placeholder from \"../components/Placeholder\";\nimport Loader from \"../components/Loader\";\nimport { PostIcon, SavedIcon } from \"../components/Icons\";\nimport Button from \"../styles/Button\";\nimport PlaceholderContainer from \"../styles/PlaceholderContainer\";\nimport axios from 'axios';\nimport Axios from '../utils/axios'\n\nconst Wrapper = styled.div`\n  .profile-tab {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin: 1.4rem 0;\n  }\n.uppercase{\n  text-transform: uppercase;\n}\n  .profile-tab div {\n    display: flex;\n    cursor: pointer;\n    margin-right: 3rem;\n  }\n\n  .profile-tab span {\n    padding-left: 0.3rem;\n  }\n\n  .profile-tab svg {\n    height: 24px;\n    width: 24px;\n  }\n\n  hr {\n    border: 0.5px solid ${(props) => props.theme.borderColor};\n  }\n`;\n\nconst Profile = () => {\n  const [tab, setTab] = useState(\"POSTS\");\n\n  const { username } = useParams();\n  const [profile, setProfile] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [deadend, setDeadend] = useState(false);\n\n  const CancelToken = axios.CancelToken;\n  const source = CancelToken.source();\n\n  useEffect(() => {\n    const getUser = async () => {\n      try {\n        const res = await Axios.get(`/users/${username}`, {\n          cancelToken: source.token\n        })\n        if (res.data.status) {\n          setLoading(false);\n          setDeadend(false);\n          setProfile(res.data.data);\n        }\n      } catch (error) {\n        if (axios.isCancel(error)) {\n           console.log('Request canceled', error.message);\n        } else {\n        setDeadend(true)\n          throw error\n        }\n      }\n    };\n\n    getUser()\n    return () => {\n      source.cancel('Operation canceled by the user.');\n    };\n  }, [username])\n\n  if (!deadend && loading) {\n    return <Loader />;\n  }\n\n  if (deadend) {\n    return (\n      <PlaceholderContainer>\n        <Placeholder\n          title=\"Sorry, this page isn't available\"\n          text=\"The link you followed may be broken, or the page may have been removed\"\n        />\n        <Link to=\"/\"><Button>Home</Button></Link>\n      </PlaceholderContainer>\n    );\n  }\n\n  return (\n    <Wrapper>\n      <ProfileHeader profile={profile} />\n      <hr />\n\n      <div className=\"profile-tab\">\n        <div\n          style={{ fontWeight: tab === \"POSTS\" ? \"500\" : \"\" }}\n          onClick={() => setTab(\"POSTS\")}\n        >\n          <PostIcon />\n          <span className=\"uppercase\">Posts</span>\n        </div>\n        <div\n          style={{ fontWeight: tab === \"SAVED\" ? \"500\" : \"\" }}\n          onClick={() => setTab(\"SAVED\")}\n        >\n          <SavedIcon />\n          <span className=\"uppercase\">Saved</span>\n        </div>\n      </div>\n\n      {tab === \"POSTS\" && (\n        <>\n          {profile?.posts?.length === 0 ? (\n            <Placeholder\n              title=\"Posts\"\n              text=\"Once you start making new posts, they'll appear here\"\n              icon=\"post\"\n            />\n          ) : (\n              <PostPreview posts={profile?.posts} />\n            )}\n        </>\n      )}\n\n      {tab === \"SAVED\" && (\n        <>\n          {profile?.savedPosts?.length === 0 ? (\n            <Placeholder\n              title=\"Saved\"\n              text=\"Save photos and videos that you want to see again\"\n              icon=\"bookmark\"\n            />\n          ) : (\n              <PostPreview posts={profile?.savedPosts} />\n            )}\n        </>\n      )}\n    </Wrapper>\n  );\n};\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}