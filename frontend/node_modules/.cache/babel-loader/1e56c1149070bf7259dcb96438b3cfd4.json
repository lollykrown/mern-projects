{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/sayconfirmproductionsltd/Documents/GitHub/mern-projects/frontend/src/components/ProfileHeader.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport styled from \"styled-components\";\nimport { useHistory } from \"react-router-dom\";\nimport Follow from \"./Follow\";\nimport Modal from \"./Modal\";\nimport Button from \"../styles/Button\";\nimport { UserContext } from \"../context/UserContext\";\nimport { OptionsIcon } from \"./Icons\";\nimport { CloseIcon } from \"./Icons\";\nconst MobileWrapper = styled.div`\n  margin: 1rem 0;\n  font-size: 1rem;\n  padding-left: 1rem;\n\n  .mobile-profile-stats span {\n    padding-right: 1rem;\n  }\n\n  .mobile-bio,\n  .mobile-profile-stats {\n    display: none;\n  }\n\n  @media screen and (max-width: 645px) {\n    .mobile-bio {\n      display: block;\n    }\n\n    .mobile-profile-stats {\n      display: block;\n      margin-bottom: 0.4rem;\n    }\n  }\n\n  a {\n    color: ${props => props.theme.blue};\n  }\n`;\n_c = MobileWrapper;\nconst Wrapper = styled.div`\n  display: flex;\n  align-items: center;\n  font-size: 1.1rem;\n  margin-bottom: 2rem;\n\n  .avatar {\n    width: 180px;\n    height: 180px;\n    object-fit: cover;\n    border-radius: 90px;\n    margin-right: 2rem;\n  }\n\n  .profile-meta {\n    display: flex;\n    align-items: baseline;\n    margin-bottom: 1rem;\n  }\n\n  .profile-meta h2 {\n    position: relative;\n    top: 3px;\n  }\n\n  .profile-stats {\n    display: flex;\n    margin-bottom: 1rem;\n  }\n\n  .options svg {\n    position: relative;\n    top: 7px;\n    margin-left: 1rem;\n  }\n\n  span {\n    padding-right: 1rem;\n  }\n\n  a {\n    color: ${props => props.theme.blue};\n  }\n\n  @media screen and (max-width: 645px) {\n    font-size: 1rem;\n\n    .bio,\n    .profile-stats {\n      display: none;\n    }\n\n    .avatar {\n      width: 140px;\n      height: 140px;\n    }\n\n    .profile-meta {\n      flex-direction: column;\n    }\n\n    button {\n      margin-left: 0;\n    }\n\n    .bio-mobile {\n      margin: 1rem 0;\n      display: block;\n    }\n  }\n\n  @media screen and (max-width: 420px) {\n    font-size: 0.9rem;\n\n    .avatar {\n      width: 100px;\n      height: 100px;\n    }\n  }\n`;\n_c2 = Wrapper;\nconst modalHeaderStyle = {\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"space-between\",\n  borderBottom: \"1px solid #DBDBDB\",\n  padding: \"1rem\"\n};\nconst ModalContentWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem;\n  padding-right: 2rem;\n  font-size: 0.9rem;\n  width: 350px;\n\n  img {\n    width: 40px;\n    object-fit: cover;\n    height: 40px;\n    border-radius: 20px;\n    margin-right: 1rem;\n  }\n\n  .profile-info {\n    display: flex;\n  }\n\n  span {\n    color: ${props => props.theme.secondaryColor};\n  }\n\n  button {\n    font-size: 0.9rem;\n    position: relative;\n    top: -10px;\n  }\n\n  @media screen and (max-width: 480px) {\n    width: 340px;\n  }\n`;\n_c3 = ModalContentWrapper;\n\nconst ModalContent = ({\n  users,\n  closeModal,\n  title\n}) => {\n  _s();\n\n  const history = useHistory();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxHeight: \"400px\",\n      overflowY: \"auto\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: modalHeaderStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CloseIcon, {\n        onClick: closeModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this), users.map(user => /*#__PURE__*/_jsxDEV(ModalContentWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"pointer\",\n          onClick: () => {\n            closeModal();\n            history.push(`/${user.username}`);\n          },\n          src: user.avatar,\n          alt: \"avatar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"pointer\",\n            onClick: () => {\n              closeModal();\n              history.push(`/${user.username}`);\n            },\n            children: user.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: user.fullname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Follow, {\n        isFollowing: user.isFollowing,\n        userId: user._id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }, this)]\n    }, user._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 171,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ModalContent, \"9cZfZ04734qoCGIctmKX7+sX6eU=\", false, function () {\n  return [useHistory];\n});\n\n_c4 = ModalContent;\n\nconst ProfileHeader = ({\n  profile\n}) => {\n  _s2();\n\n  const history = useHistory();\n  const {\n    user,\n    setUser\n  } = useContext(UserContext);\n  const [showFollowersModal, setFollowersModal] = useState(false);\n  const [showFollowingModal, setFollowingModal] = useState(false);\n\n  const closeModal = () => {\n    setFollowersModal(false);\n    setFollowingModal(false);\n  };\n\n  const [followersState, setFollowers] = useState(0);\n\n  const incFollowers = () => setFollowers(followersState + 1);\n\n  const decFollowers = () => setFollowers(followersState - 1);\n\n  const handleLogout = () => {\n    setUser(null);\n    localStorage.removeItem(\"user\");\n    toast.success(\"You are logged out\");\n  };\n\n  useEffect(() => setFollowers(profile === null || profile === void 0 ? void 0 : profile.followersCount), [profile]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Wrapper, {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"avatar\",\n        src: profile === null || profile === void 0 ? void 0 : profile.avatar,\n        alt: \"avatar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-meta\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: profile === null || profile === void 0 ? void 0 : profile.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this), (profile === null || profile === void 0 ? void 0 : profile.isMe) ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"options\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              secondary: true,\n              onClick: () => history.push(\"/accounts/edit\"),\n              children: \"Edit Profile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(OptionsIcon, {\n              onClick: handleLogout\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Follow, {\n            isFollowing: profile === null || profile === void 0 ? void 0 : profile.isFollowing,\n            incFollowers: incFollowers,\n            decFollowers: decFollowers,\n            userId: profile === null || profile === void 0 ? void 0 : profile._id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"profile-stats\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [profile === null || profile === void 0 ? void 0 : profile.postCount, \" posts\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"pointer\",\n            onClick: () => setFollowersModal(true),\n            children: [followersState, \" followers\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"pointer\",\n            onClick: () => setFollowingModal(true),\n            children: [profile === null || profile === void 0 ? void 0 : profile.followingCount, \" following\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this), showFollowersModal && (profile === null || profile === void 0 ? void 0 : profile.followers.length) > 0 && /*#__PURE__*/_jsxDEV(Modal, {\n            children: /*#__PURE__*/_jsxDEV(ModalContent, {\n              loggedInUser: user,\n              users: profile === null || profile === void 0 ? void 0 : profile.followers,\n              title: \"Followers\",\n              closeModal: closeModal\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 15\n          }, this), showFollowingModal && (profile === null || profile === void 0 ? void 0 : profile.following.length) > 0 && /*#__PURE__*/_jsxDEV(Modal, {\n            children: /*#__PURE__*/_jsxDEV(ModalContent, {\n              loggedInUser: user,\n              users: profile === null || profile === void 0 ? void 0 : profile.following,\n              title: \"Following\",\n              closeModal: closeModal\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bio\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"bold\",\n            children: profile === null || profile === void 0 ? void 0 : profile.fullname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: profile === null || profile === void 0 ? void 0 : profile.bio\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: (profile === null || profile === void 0 ? void 0 : profile.website) || 'http:///lollykrown.xyz',\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            children: profile === null || profile === void 0 ? void 0 : profile.website\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MobileWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mobile-profile-stats\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [profile === null || profile === void 0 ? void 0 : profile.postCount, \" posts\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"pointer\",\n          onClick: () => setFollowersModal(true),\n          children: [followersState, \" followers\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"pointer\",\n          onClick: () => setFollowingModal(true),\n          children: [profile === null || profile === void 0 ? void 0 : profile.followingCount, \" following\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this), showFollowersModal && (profile === null || profile === void 0 ? void 0 : profile.followers.length) > 0 && /*#__PURE__*/_jsxDEV(Modal, {\n          children: /*#__PURE__*/_jsxDEV(ModalContent, {\n            loggedInUser: user,\n            users: profile === null || profile === void 0 ? void 0 : profile.followers,\n            title: \"Followers\",\n            closeModal: closeModal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 13\n        }, this), showFollowingModal && (profile === null || profile === void 0 ? void 0 : profile.following.length) > 0 && /*#__PURE__*/_jsxDEV(Modal, {\n          children: /*#__PURE__*/_jsxDEV(ModalContent, {\n            loggedInUser: user,\n            users: profile === null || profile === void 0 ? void 0 : profile.following,\n            title: \"Following\",\n            closeModal: closeModal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mobile-bio\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"bold\",\n          children: profile === null || profile === void 0 ? void 0 : profile.fullname\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: profile === null || profile === void 0 ? void 0 : profile.bio\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: (profile === null || profile === void 0 ? void 0 : profile.website) || 'http:///lollykrown.xyz',\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: profile === null || profile === void 0 ? void 0 : profile.website\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s2(ProfileHeader, \"mXLZoYe9GOZip6m9TLzFYhCo6SM=\", false, function () {\n  return [useHistory];\n});\n\n_c5 = ProfileHeader;\nexport default ProfileHeader;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"MobileWrapper\");\n$RefreshReg$(_c2, \"Wrapper\");\n$RefreshReg$(_c3, \"ModalContentWrapper\");\n$RefreshReg$(_c4, \"ModalContent\");\n$RefreshReg$(_c5, \"ProfileHeader\");","map":{"version":3,"sources":["/Users/sayconfirmproductionsltd/Documents/GitHub/mern-projects/frontend/src/components/ProfileHeader.js"],"names":["React","useContext","useEffect","useState","toast","styled","useHistory","Follow","Modal","Button","UserContext","OptionsIcon","CloseIcon","MobileWrapper","div","props","theme","blue","Wrapper","modalHeaderStyle","display","alignItems","justifyContent","borderBottom","padding","ModalContentWrapper","secondaryColor","ModalContent","users","closeModal","title","history","maxHeight","overflowY","map","user","push","username","avatar","fullname","isFollowing","_id","ProfileHeader","profile","setUser","showFollowersModal","setFollowersModal","showFollowingModal","setFollowingModal","followersState","setFollowers","incFollowers","decFollowers","handleLogout","localStorage","removeItem","success","followersCount","isMe","postCount","followingCount","followers","length","following","bio","website"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,SAASC,WAAT,QAA4B,wBAA5B;AACA,SAASC,WAAT,QAA4B,SAA5B;AACA,SAASC,SAAT,QAA0B,SAA1B;AAEA,MAAMC,aAAa,GAAGR,MAAM,CAACS,GAAI;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAcC,KAAD,IAAWA,KAAK,CAACC,KAAN,CAAYC,IAAK;AACzC;AACA,CA5BA;KAAMJ,a;AA8BN,MAAMK,OAAO,GAAGb,MAAM,CAACS,GAAI;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAcC,KAAD,IAAWA,KAAK,CAACC,KAAN,CAAYC,IAAK;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CA/EA;MAAMC,O;AAiFN,MAAMC,gBAAgB,GAAG;AACvBC,EAAAA,OAAO,EAAE,MADc;AAEvBC,EAAAA,UAAU,EAAE,QAFW;AAGvBC,EAAAA,cAAc,EAAE,eAHO;AAIvBC,EAAAA,YAAY,EAAE,mBAJS;AAKvBC,EAAAA,OAAO,EAAE;AALc,CAAzB;AAQA,MAAMC,mBAAmB,GAAGpB,MAAM,CAACS,GAAI;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAcC,KAAD,IAAWA,KAAK,CAACC,KAAN,CAAYU,cAAe;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAlCA;MAAMD,mB;;AAoCN,MAAME,YAAY,GAAG,CAAC;AAAEC,EAAAA,KAAF;AAASC,EAAAA,UAAT;AAAqBC,EAAAA;AAArB,CAAD,KAAkC;AAAA;;AACrD,QAAMC,OAAO,GAAGzB,UAAU,EAA1B;AAEA,sBACE;AAAK,IAAA,KAAK,EAAE;AAAE0B,MAAAA,SAAS,EAAE,OAAb;AAAsBC,MAAAA,SAAS,EAAE;AAAjC,KAAZ;AAAA,4BACE;AAAK,MAAA,KAAK,EAAEd,gBAAZ;AAAA,8BACE;AAAA,kBAAKW;AAAL;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,SAAD;AAAW,QAAA,OAAO,EAAED;AAApB;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,EAKGD,KAAK,CAACM,GAAN,CAAWC,IAAD,iBACT,QAAC,mBAAD;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA,gCACE;AACE,UAAA,SAAS,EAAC,SADZ;AAEE,UAAA,OAAO,EAAE,MAAM;AACbN,YAAAA,UAAU;AACVE,YAAAA,OAAO,CAACK,IAAR,CAAc,IAAGD,IAAI,CAACE,QAAS,EAA/B;AACD,WALH;AAME,UAAA,GAAG,EAAEF,IAAI,CAACG,MANZ;AAOE,UAAA,GAAG,EAAC;AAPN;AAAA;AAAA;AAAA;AAAA,gBADF,eAUE;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA,kCACE;AACE,YAAA,SAAS,EAAC,SADZ;AAEE,YAAA,OAAO,EAAE,MAAM;AACbT,cAAAA,UAAU;AACVE,cAAAA,OAAO,CAACK,IAAR,CAAc,IAAGD,IAAI,CAACE,QAAS,EAA/B;AACD,aALH;AAAA,sBAOGF,IAAI,CAACE;AAPR;AAAA;AAAA;AAAA;AAAA,kBADF,eAUE;AAAA,sBAAOF,IAAI,CAACI;AAAZ;AAAA;AAAA;AAAA;AAAA,kBAVF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAVF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAwBE,QAAC,MAAD;AAAQ,QAAA,WAAW,EAAEJ,IAAI,CAACK,WAA1B;AAAuC,QAAA,MAAM,EAAEL,IAAI,CAACM;AAApD;AAAA;AAAA;AAAA;AAAA,cAxBF;AAAA,OAA0BN,IAAI,CAACM,GAA/B;AAAA;AAAA;AAAA;AAAA,YADD,CALH;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAoCD,CAvCD;;GAAMd,Y;UACYrB,U;;;MADZqB,Y;;AAyCN,MAAMe,aAAa,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAiB;AAAA;;AACrC,QAAMZ,OAAO,GAAGzB,UAAU,EAA1B;AACA,QAAM;AAAE6B,IAAAA,IAAF;AAAQS,IAAAA;AAAR,MAAoB3C,UAAU,CAACS,WAAD,CAApC;AAEA,QAAM,CAACmC,kBAAD,EAAqBC,iBAArB,IAA0C3C,QAAQ,CAAC,KAAD,CAAxD;AACA,QAAM,CAAC4C,kBAAD,EAAqBC,iBAArB,IAA0C7C,QAAQ,CAAC,KAAD,CAAxD;;AACA,QAAM0B,UAAU,GAAG,MAAM;AACvBiB,IAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACAE,IAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACD,GAHD;;AAKA,QAAM,CAACC,cAAD,EAAiBC,YAAjB,IAAiC/C,QAAQ,CAAC,CAAD,CAA/C;;AACA,QAAMgD,YAAY,GAAG,MAAMD,YAAY,CAACD,cAAc,GAAG,CAAlB,CAAvC;;AACA,QAAMG,YAAY,GAAG,MAAMF,YAAY,CAACD,cAAc,GAAG,CAAlB,CAAvC;;AAEA,QAAMI,YAAY,GAAG,MAAM;AACzBT,IAAAA,OAAO,CAAC,IAAD,CAAP;AACAU,IAAAA,YAAY,CAACC,UAAb,CAAwB,MAAxB;AACAnD,IAAAA,KAAK,CAACoD,OAAN,CAAc,oBAAd;AACD,GAJD;;AAMAtD,EAAAA,SAAS,CAAC,MAAMgD,YAAY,CAACP,OAAD,aAACA,OAAD,uBAACA,OAAO,CAAEc,cAAV,CAAnB,EAA8C,CAACd,OAAD,CAA9C,CAAT;AAEA,sBACE;AAAA,4BACE,QAAC,OAAD;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,QAAf;AAAwB,QAAA,GAAG,EAAEA,OAAF,aAAEA,OAAF,uBAAEA,OAAO,CAAEL,MAAtC;AAA8C,QAAA,GAAG,EAAC;AAAlD;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,cAAf;AAAA,kCACE;AAAA,sBAAKK,OAAL,aAAKA,OAAL,uBAAKA,OAAO,CAAEN;AAAd;AAAA;AAAA;AAAA;AAAA,kBADF,EAEG,CAAAM,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEe,IAAT,iBACC;AAAK,YAAA,SAAS,EAAC,SAAf;AAAA,oCACE,QAAC,MAAD;AACE,cAAA,SAAS,MADX;AAEE,cAAA,OAAO,EAAE,MAAM3B,OAAO,CAACK,IAAR,CAAa,gBAAb,CAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAOE,QAAC,WAAD;AAAa,cAAA,OAAO,EAAEiB;AAAtB;AAAA;AAAA;AAAA;AAAA,oBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,gBAWC,QAAC,MAAD;AACE,YAAA,WAAW,EAAEV,OAAF,aAAEA,OAAF,uBAAEA,OAAO,CAAEH,WADxB;AAEE,YAAA,YAAY,EAAEW,YAFhB;AAGE,YAAA,YAAY,EAAEC,YAHhB;AAIE,YAAA,MAAM,EAAET,OAAF,aAAEA,OAAF,uBAAEA,OAAO,CAAEF;AAJnB;AAAA;AAAA;AAAA;AAAA,kBAbJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAuBE;AAAK,UAAA,SAAS,EAAC,eAAf;AAAA,kCACE;AAAA,uBAAOE,OAAP,aAAOA,OAAP,uBAAOA,OAAO,CAAEgB,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAGE;AAAM,YAAA,SAAS,EAAC,SAAhB;AAA0B,YAAA,OAAO,EAAE,MAAMb,iBAAiB,CAAC,IAAD,CAA1D;AAAA,uBACGG,cADH;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHF,eAOE;AAAM,YAAA,SAAS,EAAC,SAAhB;AAA0B,YAAA,OAAO,EAAE,MAAMD,iBAAiB,CAAC,IAAD,CAA1D;AAAA,uBACGL,OADH,aACGA,OADH,uBACGA,OAAO,CAAEiB,cADZ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPF,EAWGf,kBAAkB,IAAI,CAAAF,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEkB,SAAT,CAAmBC,MAAnB,IAA4B,CAAlD,iBACC,QAAC,KAAD;AAAA,mCACE,QAAC,YAAD;AACE,cAAA,YAAY,EAAE3B,IADhB;AAEE,cAAA,KAAK,EAAEQ,OAAF,aAAEA,OAAF,uBAAEA,OAAO,CAAEkB,SAFlB;AAGE,cAAA,KAAK,EAAC,WAHR;AAIE,cAAA,UAAU,EAAEhC;AAJd;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAZJ,EAsBGkB,kBAAkB,IAAI,CAAAJ,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEoB,SAAT,CAAmBD,MAAnB,IAA4B,CAAlD,iBACC,QAAC,KAAD;AAAA,mCACE,QAAC,YAAD;AACE,cAAA,YAAY,EAAE3B,IADhB;AAEE,cAAA,KAAK,EAAEQ,OAAF,aAAEA,OAAF,uBAAEA,OAAO,CAAEoB,SAFlB;AAGE,cAAA,KAAK,EAAC,WAHR;AAIE,cAAA,UAAU,EAAElC;AAJd;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAvBJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAvBF,eAyDE;AAAK,UAAA,SAAS,EAAC,KAAf;AAAA,kCACE;AAAM,YAAA,SAAS,EAAC,MAAhB;AAAA,sBAAwBc,OAAxB,aAAwBA,OAAxB,uBAAwBA,OAAO,CAAEJ;AAAjC;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA,sBAAII,OAAJ,aAAIA,OAAJ,uBAAIA,OAAO,CAAEqB;AAAb;AAAA;AAAA;AAAA;AAAA,kBAFF,eAGE;AACE,YAAA,IAAI,EAAE,CAAArB,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEsB,OAAT,KAAoB,wBAD5B;AAEE,YAAA,MAAM,EAAC,QAFT;AAGE,YAAA,GAAG,EAAC,qBAHN;AAAA,sBAKGtB,OALH,aAKGA,OALH,uBAKGA,OAAO,CAAEsB;AALZ;AAAA;AAAA;AAAA;AAAA,kBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAzDF;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAyEE,QAAC,aAAD;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAA,gCACE;AAAA,qBAAOtB,OAAP,aAAOA,OAAP,uBAAOA,OAAO,CAAEgB,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAGE;AAAM,UAAA,SAAS,EAAC,SAAhB;AAA0B,UAAA,OAAO,EAAE,MAAMb,iBAAiB,CAAC,IAAD,CAA1D;AAAA,qBACGG,cADH;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,eAOE;AAAM,UAAA,SAAS,EAAC,SAAhB;AAA0B,UAAA,OAAO,EAAE,MAAMD,iBAAiB,CAAC,IAAD,CAA1D;AAAA,qBACGL,OADH,aACGA,OADH,uBACGA,OAAO,CAAEiB,cADZ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPF,EAWGf,kBAAkB,IAAI,CAAAF,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEkB,SAAT,CAAmBC,MAAnB,IAA4B,CAAlD,iBACC,QAAC,KAAD;AAAA,iCACE,QAAC,YAAD;AACE,YAAA,YAAY,EAAE3B,IADhB;AAEE,YAAA,KAAK,EAAEQ,OAAF,aAAEA,OAAF,uBAAEA,OAAO,CAAEkB,SAFlB;AAGE,YAAA,KAAK,EAAC,WAHR;AAIE,YAAA,UAAU,EAAEhC;AAJd;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAZJ,EAsBGkB,kBAAkB,IAAI,CAAAJ,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEoB,SAAT,CAAmBD,MAAnB,IAA4B,CAAlD,iBACC,QAAC,KAAD;AAAA,iCACE,QAAC,YAAD;AACE,YAAA,YAAY,EAAE3B,IADhB;AAEE,YAAA,KAAK,EAAEQ,OAAF,aAAEA,OAAF,uBAAEA,OAAO,CAAEoB,SAFlB;AAGE,YAAA,KAAK,EAAC,WAHR;AAIE,YAAA,UAAU,EAAElC;AAJd;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAvBJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAkCE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA,gCACE;AAAM,UAAA,SAAS,EAAC,MAAhB;AAAA,oBAAwBc,OAAxB,aAAwBA,OAAxB,uBAAwBA,OAAO,CAAEJ;AAAjC;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA,oBAAII,OAAJ,aAAIA,OAAJ,uBAAIA,OAAO,CAAEqB;AAAb;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAG,UAAA,IAAI,EAAE,CAAArB,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEsB,OAAT,KAAoB,wBAA7B;AAAuD,UAAA,MAAM,EAAC,QAA9D;AAAuE,UAAA,GAAG,EAAC,qBAA3E;AAAA,oBACGtB,OADH,aACGA,OADH,uBACGA,OAAO,CAAEsB;AADZ;AAAA;AAAA;AAAA;AAAA,gBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,cAlCF;AAAA;AAAA;AAAA;AAAA;AAAA,YAzEF;AAAA,kBADF;AAsHD,CA7ID;;IAAMvB,a;UACYpC,U;;;MADZoC,a;AA+IN,eAAeA,aAAf","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport styled from \"styled-components\";\nimport { useHistory } from \"react-router-dom\";\nimport Follow from \"./Follow\";\nimport Modal from \"./Modal\";\nimport Button from \"../styles/Button\";\nimport { UserContext } from \"../context/UserContext\";\nimport { OptionsIcon } from \"./Icons\";\nimport { CloseIcon } from \"./Icons\";\n\nconst MobileWrapper = styled.div`\n  margin: 1rem 0;\n  font-size: 1rem;\n  padding-left: 1rem;\n\n  .mobile-profile-stats span {\n    padding-right: 1rem;\n  }\n\n  .mobile-bio,\n  .mobile-profile-stats {\n    display: none;\n  }\n\n  @media screen and (max-width: 645px) {\n    .mobile-bio {\n      display: block;\n    }\n\n    .mobile-profile-stats {\n      display: block;\n      margin-bottom: 0.4rem;\n    }\n  }\n\n  a {\n    color: ${(props) => props.theme.blue};\n  }\n`;\n\nconst Wrapper = styled.div`\n  display: flex;\n  align-items: center;\n  font-size: 1.1rem;\n  margin-bottom: 2rem;\n\n  .avatar {\n    width: 180px;\n    height: 180px;\n    object-fit: cover;\n    border-radius: 90px;\n    margin-right: 2rem;\n  }\n\n  .profile-meta {\n    display: flex;\n    align-items: baseline;\n    margin-bottom: 1rem;\n  }\n\n  .profile-meta h2 {\n    position: relative;\n    top: 3px;\n  }\n\n  .profile-stats {\n    display: flex;\n    margin-bottom: 1rem;\n  }\n\n  .options svg {\n    position: relative;\n    top: 7px;\n    margin-left: 1rem;\n  }\n\n  span {\n    padding-right: 1rem;\n  }\n\n  a {\n    color: ${(props) => props.theme.blue};\n  }\n\n  @media screen and (max-width: 645px) {\n    font-size: 1rem;\n\n    .bio,\n    .profile-stats {\n      display: none;\n    }\n\n    .avatar {\n      width: 140px;\n      height: 140px;\n    }\n\n    .profile-meta {\n      flex-direction: column;\n    }\n\n    button {\n      margin-left: 0;\n    }\n\n    .bio-mobile {\n      margin: 1rem 0;\n      display: block;\n    }\n  }\n\n  @media screen and (max-width: 420px) {\n    font-size: 0.9rem;\n\n    .avatar {\n      width: 100px;\n      height: 100px;\n    }\n  }\n`;\n\nconst modalHeaderStyle = {\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"space-between\",\n  borderBottom: \"1px solid #DBDBDB\",\n  padding: \"1rem\",\n};\n\nconst ModalContentWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem;\n  padding-right: 2rem;\n  font-size: 0.9rem;\n  width: 350px;\n\n  img {\n    width: 40px;\n    object-fit: cover;\n    height: 40px;\n    border-radius: 20px;\n    margin-right: 1rem;\n  }\n\n  .profile-info {\n    display: flex;\n  }\n\n  span {\n    color: ${(props) => props.theme.secondaryColor};\n  }\n\n  button {\n    font-size: 0.9rem;\n    position: relative;\n    top: -10px;\n  }\n\n  @media screen and (max-width: 480px) {\n    width: 340px;\n  }\n`;\n\nconst ModalContent = ({ users, closeModal, title }) => {\n  const history = useHistory();\n\n  return (\n    <div style={{ maxHeight: \"400px\", overflowY: \"auto\" }}>\n      <div style={modalHeaderStyle}>\n        <h3>{title}</h3>\n        <CloseIcon onClick={closeModal} />\n      </div>\n      {users.map((user) => (\n        <ModalContentWrapper key={user._id}>\n          <div className=\"profile-info\">\n            <img\n              className=\"pointer\"\n              onClick={() => {\n                closeModal();\n                history.push(`/${user.username}`);\n              }}\n              src={user.avatar}\n              alt=\"avatar\"\n            />\n            <div className=\"user-info\">\n              <h3\n                className=\"pointer\"\n                onClick={() => {\n                  closeModal();\n                  history.push(`/${user.username}`);\n                }}\n              >\n                {user.username}\n              </h3>\n              <span>{user.fullname}</span>\n            </div>\n          </div>\n          <Follow isFollowing={user.isFollowing} userId={user._id} />\n        </ModalContentWrapper>\n      ))}\n    </div>\n  );\n};\n\nconst ProfileHeader = ({ profile }) => {\n  const history = useHistory();\n  const { user, setUser } = useContext(UserContext);\n\n  const [showFollowersModal, setFollowersModal] = useState(false);\n  const [showFollowingModal, setFollowingModal] = useState(false);\n  const closeModal = () => {\n    setFollowersModal(false);\n    setFollowingModal(false);\n  };\n\n  const [followersState, setFollowers] = useState(0);\n  const incFollowers = () => setFollowers(followersState + 1);\n  const decFollowers = () => setFollowers(followersState - 1);\n\n  const handleLogout = () => {\n    setUser(null);\n    localStorage.removeItem(\"user\");\n    toast.success(\"You are logged out\");\n  };\n\n  useEffect(() => setFollowers(profile?.followersCount), [profile]);\n\n  return (\n    <>\n      <Wrapper>\n        <img className=\"avatar\" src={profile?.avatar} alt=\"avatar\" />\n        <div className=\"profile-info\">\n          <div className=\"profile-meta\">\n            <h2>{profile?.username}</h2>\n            {profile?.isMe ? (\n              <div className=\"options\">\n                <Button\n                  secondary\n                  onClick={() => history.push(\"/accounts/edit\")}\n                >\n                  Edit Profile\n                </Button>\n                <OptionsIcon onClick={handleLogout} />\n              </div>\n            ) : (\n              <Follow\n                isFollowing={profile?.isFollowing}\n                incFollowers={incFollowers}\n                decFollowers={decFollowers}\n                userId={profile?._id}\n              />\n            )}\n          </div>\n\n          <div className=\"profile-stats\">\n            <span>{profile?.postCount} posts</span>\n\n            <span className=\"pointer\" onClick={() => setFollowersModal(true)}>\n              {followersState} followers\n            </span>\n\n            <span className=\"pointer\" onClick={() => setFollowingModal(true)}>\n              {profile?.followingCount} following\n            </span>\n\n            {showFollowersModal && profile?.followers.length > 0 && (\n              <Modal>\n                <ModalContent\n                  loggedInUser={user}\n                  users={profile?.followers}\n                  title=\"Followers\"\n                  closeModal={closeModal}\n                />\n              </Modal>\n            )}\n\n            {showFollowingModal && profile?.following.length > 0 && (\n              <Modal>\n                <ModalContent\n                  loggedInUser={user}\n                  users={profile?.following}\n                  title=\"Following\"\n                  closeModal={closeModal}\n                />\n              </Modal>\n            )}\n          </div>\n\n          <div className=\"bio\">\n            <span className=\"bold\">{profile?.fullname}</span>\n            <p>{profile?.bio}</p>\n            <a\n              href={profile?.website || 'http:///lollykrown.xyz'}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              {profile?.website}\n            </a>\n          </div>\n        </div>\n      </Wrapper>\n      <MobileWrapper>\n        <div className=\"mobile-profile-stats\">\n          <span>{profile?.postCount} posts</span>\n\n          <span className=\"pointer\" onClick={() => setFollowersModal(true)}>\n            {followersState} followers\n          </span>\n\n          <span className=\"pointer\" onClick={() => setFollowingModal(true)}>\n            {profile?.followingCount} following\n          </span>\n\n          {showFollowersModal && profile?.followers.length > 0 && (\n            <Modal>\n              <ModalContent\n                loggedInUser={user}\n                users={profile?.followers}\n                title=\"Followers\"\n                closeModal={closeModal}\n              />\n            </Modal>\n          )}\n\n          {showFollowingModal && profile?.following.length > 0 && (\n            <Modal>\n              <ModalContent\n                loggedInUser={user}\n                users={profile?.following}\n                title=\"Following\"\n                closeModal={closeModal}\n              />\n            </Modal>\n          )}\n        </div>\n        <div className=\"mobile-bio\">\n          <span className=\"bold\">{profile?.fullname}</span>\n          <p>{profile?.bio}</p>\n          <a href={profile?.website || 'http:///lollykrown.xyz'} target=\"_blank\" rel=\"noopener noreferrer\">\n            {profile?.website}\n          </a>\n        </div>\n      </MobileWrapper>\n    </>\n  );\n};\n\nexport default ProfileHeader;\n"]},"metadata":{},"sourceType":"module"}