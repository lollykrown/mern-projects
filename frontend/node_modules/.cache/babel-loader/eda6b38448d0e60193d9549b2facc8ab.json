{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/sayconfirmproductionsltd/Documents/GitHub/mern-projects/frontend/src/components/Suggestions.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport Follow from \"./Follow\";\nimport Avatar from \"../styles/Avatar\";\nimport { UserContext } from \"../context/UserContext\";\nimport axios from '../utils/axios';\nimport { source } from '../utils/axios';\nimport { toast } from \"react-toastify\";\nconst Wrapper = styled.div`\n  width: 280px;\n  margin-top: 1rem;\n  position: fixed;\n  top: 6rem;\n  left: 66%;\n\n  .suggestions {\n    margin-top: 1.8rem;\n  }\n\n  .suggestions div {\n    width: 230px;\n  }\n\n  .suggestions > h4 {\n    margin-bottom: 0.35rem;\n  }\n\n  .suggestions-usercard {\n    display: flex;\n    align-items: center;\n    font-size: 0.9rem;\n  }\n\n  .suggestions img {\n    width: 44px;\n    height: 44px;\n    border-radius: 22px;\n  }\n\n  .follow {\n    position: relative;\n    top: -0.3rem;\n  }\n\n  span {\n    color: ${props => props.theme.blue};\n    font-weight: 400;\n  }\n\n  @media screen and (max-width: 1095px) {\n    left: 67.5%;\n  }\n\n  @media screen and (max-width: 1040px) {\n    display: none;\n  }\n`;\n_c = Wrapper;\nconst StyledUserCard = styled.div`\n  display: flex;\n  align-items: center;\n  margin-bottom: 1rem;\n\n  span {\n    color: ${props => props.theme.secondaryColor};\n  }\n`;\n_c2 = StyledUserCard;\nexport const UserCard = ({\n  user\n}) => {\n  _s();\n\n  const history = useHistory();\n  return /*#__PURE__*/_jsxDEV(StyledUserCard, {\n    children: [/*#__PURE__*/_jsxDEV(Avatar, {\n      className: \"pointer\",\n      onClick: () => history.push(`/${user.username}`),\n      lg: true,\n      src: user.avatar,\n      alt: \"avatar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"pointer\",\n        onClick: () => history.push(`/${user.username}`),\n        children: user.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: user.fullname\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n\n_s(UserCard, \"9cZfZ04734qoCGIctmKX7+sX6eU=\", false, function () {\n  return [useHistory];\n});\n\n_c3 = UserCard;\n\nconst Suggestions = () => {\n  _s2();\n\n  const {\n    user\n  } = useContext(UserContext);\n  const [users, setUsers] = useState([]);\n  useEffect(() => {\n    const loadUsers = async () => {\n      try {\n        const res = await axios.get('/users', {\n          cancelToken: source.token\n        });\n        setUsers(res.data.data.filter(user => !user.isFollowing));\n      } catch (error) {\n        // if (source.isCancel(error)) {\n        //   console.log('Request canceled', error.message);\n        // } else {\n        //   setDeadend(true)\n        //   throw error\n        // }\n        toast.error(error);\n      }\n    };\n\n    loadUsers();\n    return () => {\n      source.cancel('Operation canceled by the user.');\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: [/*#__PURE__*/_jsxDEV(UserCard, {\n      user: user\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"suggestions\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Suggestions For You\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), users.slice(0, 4).map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"suggestions-usercard\",\n        children: [/*#__PURE__*/_jsxDEV(UserCard, {\n          user: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Follow, {\n          nobtn: true,\n          isFollowing: user.isFollowing,\n          userId: user._id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }, this)]\n      }, user.username, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }, this)), users.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Right now, there's no suggestions for you\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 32\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(Suggestions, \"Svo24eEoqduqT2Cy3VcbA/RqRkQ=\");\n\n_c4 = Suggestions;\nexport default Suggestions;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Wrapper\");\n$RefreshReg$(_c2, \"StyledUserCard\");\n$RefreshReg$(_c3, \"UserCard\");\n$RefreshReg$(_c4, \"Suggestions\");","map":{"version":3,"sources":["/Users/sayconfirmproductionsltd/Documents/GitHub/mern-projects/frontend/src/components/Suggestions.js"],"names":["React","useState","useEffect","useContext","useHistory","styled","Follow","Avatar","UserContext","axios","source","toast","Wrapper","div","props","theme","blue","StyledUserCard","secondaryColor","UserCard","user","history","push","username","avatar","fullname","Suggestions","users","setUsers","loadUsers","res","get","cancelToken","token","data","filter","isFollowing","error","cancel","slice","map","_id","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport Follow from \"./Follow\";\nimport Avatar from \"../styles/Avatar\";\nimport { UserContext } from \"../context/UserContext\";\nimport axios from '../utils/axios'\nimport { source } from '../utils/axios'\nimport { toast } from \"react-toastify\";\n\nconst Wrapper = styled.div`\n  width: 280px;\n  margin-top: 1rem;\n  position: fixed;\n  top: 6rem;\n  left: 66%;\n\n  .suggestions {\n    margin-top: 1.8rem;\n  }\n\n  .suggestions div {\n    width: 230px;\n  }\n\n  .suggestions > h4 {\n    margin-bottom: 0.35rem;\n  }\n\n  .suggestions-usercard {\n    display: flex;\n    align-items: center;\n    font-size: 0.9rem;\n  }\n\n  .suggestions img {\n    width: 44px;\n    height: 44px;\n    border-radius: 22px;\n  }\n\n  .follow {\n    position: relative;\n    top: -0.3rem;\n  }\n\n  span {\n    color: ${(props) => props.theme.blue};\n    font-weight: 400;\n  }\n\n  @media screen and (max-width: 1095px) {\n    left: 67.5%;\n  }\n\n  @media screen and (max-width: 1040px) {\n    display: none;\n  }\n`;\n\nconst StyledUserCard = styled.div`\n  display: flex;\n  align-items: center;\n  margin-bottom: 1rem;\n\n  span {\n    color: ${(props) => props.theme.secondaryColor};\n  }\n`;\n\nexport const UserCard = ({ user }) => {\n  const history = useHistory();\n\n  return (\n    <StyledUserCard>\n      <Avatar\n        className=\"pointer\"\n        onClick={() => history.push(`/${user.username}`)}\n        lg\n        src={user.avatar}\n        alt=\"avatar\"\n      />\n\n      <div className=\"user-info\">\n        <h4\n          className=\"pointer\"\n          onClick={() => history.push(`/${user.username}`)}\n        >\n          {user.username}\n        </h4>\n        <span>{user.fullname}</span>\n      </div>\n    </StyledUserCard>\n  );\n};\n\nconst Suggestions = () => {\n  const { user } = useContext(UserContext);\n  const [users, setUsers] = useState([]);\n\n  useEffect(() => {\n    const loadUsers = async () => {    \n      try {\n        const res = await axios.get('/users',  {\n          cancelToken: source.token })\n\n          setUsers(res.data.data.filter((user) => !user.isFollowing));\n\n      } catch (error) {\n        // if (source.isCancel(error)) {\n        //   console.log('Request canceled', error.message);\n        // } else {\n        //   setDeadend(true)\n        //   throw error\n        // }\n        toast.error(error)\n      }\n    };\n    \n    loadUsers()\n    return () => {\n      source.cancel('Operation canceled by the user.');\n    };\n  }, [])\n\n  return (\n    <Wrapper>\n      <UserCard user={user} />\n\n      <div className=\"suggestions\">\n        <h3>Suggestions For You</h3>\n        {users.slice(0, 4).map((user) => (\n          <div key={user.username} className=\"suggestions-usercard\">\n            <UserCard user={user} />\n            <Follow nobtn isFollowing={user.isFollowing} userId={user._id} />\n          </div>\n        ))}\n        {users.length === 0 && <p>Right now, there's no suggestions for you</p>}\n      </div>\n    </Wrapper>\n  );\n};\n\nexport default Suggestions;\n"]},"metadata":{},"sourceType":"module"}